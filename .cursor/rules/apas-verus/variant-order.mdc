# Variant Modification Order

When making changes across multiple data structure variants, proceed in order of increasing complexity:

1. **X** (base/generic) - e.g., `ArraySeq.rs`
2. **XStPer** (single-threaded persistent) - e.g., `ArraySeqStPer.rs`
3. **XStEph** (single-threaded ephemeral) - e.g., `ArraySeqStEph.rs`
4. **XMtPer** (multi-threaded persistent) - e.g., `ArraySeqMtPer.rs`
5. **XMtEph** (multi-threaded ephemeral) - e.g., `ArraySeqMtEph.rs`

## Rationale

- Simpler variants validate the approach before tackling complex ones
- Single-threaded code is easier to verify than multi-threaded
- Persistent structures are simpler than ephemeral (no mutation tracking)
- Errors caught early prevent wasted effort on complex variants
- Each successful step builds confidence in the change pattern

## Example

When adding `f.ensures` propagation to `map`:

```
1. ArraySeq.rs        ← Start here, validate approach
2. ArraySeqStPer.rs   ← Apply same pattern
3. ArraySeqStEph.rs   ← Adjust for ephemeral if needed
4. ArraySeqMtPer.rs   ← Handle parallel complexity
5. ArraySeqMtEph.rs   ← Most complex, do last
```

Verify after each file before proceeding to the next.
