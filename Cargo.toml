[package]
name = "apas-verus"
version = "0.1.0"
edition = "2024"

[package.metadata.verus]
verify = true

[dependencies]
vstd = "0.0.0-2025-08-12-1837"
ordered-float = "4.5.0"
rayon = "1.10.0"

[lib]
path = "src/lib.rs"

[[test]]
name = "TestInsertionSortStEph"
path = "tests/Chap03/TestInsertionSortStEph.rs"

[[test]]
name = "TestSetStEph"
path = "tests/Chap05/TestSetStEph.rs"

[[test]]
name = "TestRelationStEph"
path = "tests/Chap05/TestRelationStEph.rs"

[[test]]
name = "test_total_order"
path = "tests/vstdplus/test_total_order.rs"

[[test]]
name = "test_partial_order"
path = "tests/vstdplus/test_partial_order.rs"

[[test]]
name = "test_feq"
path = "tests/vstdplus/test_feq.rs"

[[test]]
name = "TestDirGraphStEph"
path = "tests/Chap06/TestDirGraphStEph.rs"

[[test]]
name = "TestUnDirGraphStEph"
path = "tests/Chap06/TestUnDirGraphStEph.rs"

[[test]]
name = "TestLabDirGraphStEph"
path = "tests/Chap06/TestLabDirGraphStEph.rs"

[[test]]
name = "TestLabUnDirGraphStEph"
path = "tests/Chap06/TestLabUnDirGraphStEph.rs"

[[test]]
name = "TestWeighedDirGraphStEphInt"
path = "tests/Chap06/TestWeighedDirGraphStEphInt.rs"

[[test]]
name = "TestWeighedUnDirGraphStEphInt"
path = "tests/Chap06/TestWeighedUnDirGraphStEphInt.rs"

[[test]]
name = "TestCheckedU8"
path = "tests/experiments/TestCheckedU8.rs"

[[test]]
name = "TestCheckedU16"
path = "tests/experiments/TestCheckedU16.rs"

[[test]]
name = "TestCheckedU32"
path = "tests/experiments/TestCheckedU32.rs"

[[test]]
name = "TestCheckedU64"
path = "tests/experiments/TestCheckedU64.rs"

[[test]]
name = "TestCheckedU128"
path = "tests/experiments/TestCheckedU128.rs"

[[test]]
name = "TestCheckedUsize"
path = "tests/experiments/TestCheckedUsize.rs"

[[test]]
name = "TestCheckedI8"
path = "tests/experiments/TestCheckedI8.rs"

[[test]]
name = "TestCheckedI16"
path = "tests/experiments/TestCheckedI16.rs"

[[test]]
name = "TestCheckedI32"
path = "tests/experiments/TestCheckedI32.rs"

[[test]]
name = "TestCheckedI64"
path = "tests/experiments/TestCheckedI64.rs"

[[test]]
name = "TestCheckedI128"
path = "tests/experiments/TestCheckedI128.rs"

[[test]]
name = "TestCheckedIsize"
path = "tests/experiments/TestCheckedIsize.rs"

[[bench]]
name = "BenchInsertionSortStEph"
path = "benches/Chap03/BenchInsertionSortStEph.rs"
harness = false

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }

[profile.release]
incremental = true

[lints.rust]
non_snake_case = "allow"
non_camel_case_types = "allow"
non_upper_case_globals = "allow"
unused_imports = "allow"
dead_code = "allow"
unexpected_cfgs = { level = "warn", check-cfg = ['cfg(verus_keep_ghost)', 'cfg(verus_keep_ghost_body)'] }

[lints.clippy]
module_inception = "allow"
type_complexity = "allow"

[workspace]
members = ["."]

# Use local Verus fork for vstd (for rust-analyzer navigation)
[patch.crates-io]
vstd = { path = "/home/milnes/projects/verus-lang/source/vstd" }
