$ /home/milnes/projects/veracity/target/release/veracity-review-proof-holes -d src/Chap39/

❌ BSTParaTreapMtEph.rs
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTParaTreapMtEph.rs:24: error: dummy_rwlock_predicate - RwLockPredicate inv returning true is grossly underspecified.
        22 | 
        23 |     impl<T: MtKey> RwLockPredicate<Option<Box<NodeInner<T>>>> for TreapWf {
        25 |     }
        26 | 
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTParaTreapMtEph.rs:47: warning: verus_rwlock_external_body - Verus RwLock new requires an external body at this point.
        24 |         open spec fn inv(self, v: Option<Box<NodeInner<T>>>) -> bool { true }
            ...
        45 |     }
        46 | 
        48 |     fn new_treap_lock<T: MtKey>(val: Option<Box<NodeInner<T>>>) -> (lock: RwLock<Option<Box<NodeInner<T>>>, TreapWf>) {
        49 |         RwLock::new(val, Ghost(TreapWf))
   Errors: 2 total (1 Verus RwLock external_body, 1 dummy RwLockPredicate)
❌ BSTSetTreapMtEph.rs
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:39: external_body - #[verifier::external_body]
        40 |     fn priority_for<T: Hash>(key: &T) -> u64 {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:124: external_body - #[verifier::external_body]
       125 |     fn values_vec<T: StTInMtT + Ord>(tree: &BSTTreapMtEph<T>) -> Vec<T> {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:138: external_body - #[verifier::external_body]
       139 |     fn from_sorted_iter<T: StTInMtT + Ord + Hash, I: IntoIterator<Item = T>>(values: I) -> BSTSetTreapMtEph<T> {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:179: external_body - #[verifier::external_body]
       180 |         fn delete(&mut self, target: &T) {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:188: external_body - #[verifier::external_body]
       189 |         fn union(&self, other: &Self) -> Self {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:197: external_body - #[verifier::external_body]
       198 |         fn intersection(&self, other: &Self) -> Self {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:214: external_body - #[verifier::external_body]
       215 |         fn difference(&self, other: &Self) -> Self {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:231: external_body - #[verifier::external_body]
       232 |         fn split(&self, pivot: &T) -> (Self, B, Self) {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:248: external_body - #[verifier::external_body]
       249 |         #[verifier::external_body]
       250 |         fn join_pair(left: Self, right: Self) -> Self {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:249: external_body - #[verifier::external_body]
       250 |         fn join_pair(left: Self, right: Self) -> Self {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:258: external_body - #[verifier::external_body]
       259 |         #[verifier::external_body]
       260 |         fn join_m(left: Self, pivot: T, right: Self) -> Self {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:259: external_body - #[verifier::external_body]
       260 |         fn join_m(left: Self, pivot: T, right: Self) -> Self {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:269: external_body - #[verifier::external_body]
       270 |         fn filter<F: FnMut(&T) -> bool>(&self, mut predicate: F) -> Self {
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTSetTreapMtEph.rs:279: external_body - #[verifier::external_body]
       280 |         fn reduce<F: FnMut(T, T) -> T>(&self, mut op: F, base: T) -> T {
   Holes: 14 total
      14 × external_body
❌ BSTTreapMtEph.rs
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTTreapMtEph.rs:240: assume() - assume(1 + l + r <= usize::MAX);
       237 |     fn update<T: StTInMtT + Ord>(node: &mut Node<T>) {
            ...
       238 |         let l = size_link(&node.left);
       239 |         let r = size_link(&node.right);
       241 |         node.size = 1 + l + r;
       242 |     }
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTTreapMtEph.rs:446: assume() - assume(spec_size_link(link) < usize::MAX as nat);
       443 |         fn height(&self) -> N {
            ...
       444 |             let handle = self.root.acquire_read();
       445 |             let link: &Link<T> = handle.borrow();
       447 |             assume(spec_size_wf_link(link));
       448 |             let result = height_link(link);
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTTreapMtEph.rs:447: assume() - assume(spec_size_wf_link(link));
       443 |         fn height(&self) -> N {
            ...
       445 |             let link: &Link<T> = handle.borrow();
       446 |             assume(spec_size_link(link) < usize::MAX as nat);
       448 |             let result = height_link(link);
       449 |             handle.release_read();
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTTreapMtEph.rs:89: error: dummy_rwlock_predicate - RwLockPredicate inv returning true is grossly underspecified.
        71 |         fn clone(&self) -> (cloned: Self)
            ...
        87 | 
        88 |     impl<T: StTInMtT + Ord> RwLockPredicate<Link<T>> for TreapLinkWf {
        90 |     }
        91 | 
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTTreapMtEph.rs:92: warning: verus_rwlock_external_body - Verus RwLock new requires an external body at this point.
        89 |         open spec fn inv(self, v: Link<T>) -> bool { true }
            ...
        90 |     }
        91 | 
        93 |     fn new_treap_link_lock<T: StTInMtT + Ord>(val: Link<T>) -> (lock: RwLock<Link<T>, TreapLinkWf>) {
        94 |         RwLock::new(val, Ghost(TreapLinkWf))
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTTreapMtEph.rs:51: info: accept() - accept hole
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTTreapMtEph.rs:64: info: accept() - accept hole
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTTreapMtEph.rs:81: info: accept() - accept hole
   Holes: 3 total
      3 × assume()
   Errors: 2 total (1 Verus RwLock external_body, 1 dummy RwLockPredicate)
   Info: 3 assume(false); diverge() idiom(s)
   Proof functions: 2 total (2 clean, 0 holed)
❌ BSTTreapStEph.rs
/home/milnes/projects/APAS-VERUS/src/Chap39/BSTTreapStEph.rs:325: assume() - assume(1 + l + r <= usize::MAX);
       321 |     fn update_size<T: StT + Ord>(node: &mut Box<Node<T>>)
            ...
       323 |         let l = size_link(&node.left);
       324 |         let r = size_link(&node.right);
       326 |         node.size = 1 + l + r;
       327 |     }
   Holes: 1 total
      1 × assume()
   Proof functions: 3 total (3 clean, 0 holed)

═══════════════════════════════════════════════════════════════
SUMMARY
═══════════════════════════════════════════════════════════════

Modules:
   1 clean (no holes)
   3 holed (contains holes)
   4 total

Proof Functions:
   5 clean
   0 holed
   5 total

Holes Found: 18 total
   4 × assume()
   14 × external_body

Errors: 4 (bare impl(s), struct/enum outside verus!)

Info: 3 assume(false); diverge() idiom(s) (valid non-termination)
