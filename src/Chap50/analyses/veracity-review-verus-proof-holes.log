$ /home/milnes/projects/veracity/target/release/veracity-review-proof-holes -d /home/milnes/projects/APAS-VERUS/src/Chap50

❌ MatrixChainMtEph.rs
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtEph.rs:39: error: dummy_rwlock_predicate - RwLockPredicate inv returning true is grossly underspecified.
        32 |         open spec fn view(&self) -> (nat, nat) {
            ...
        37 |         pub struct McEphDimWf;
        38 |         impl RwLockPredicate<Vec<MatrixDim>> for McEphDimWf {
        40 |         }
        41 |         #[verifier::external_body]
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtEph.rs:41: warning: verus_rwlock_external_body - Verus RwLock new requires an external body at this point.
        39 |             open spec fn inv(self, v: Vec<MatrixDim>) -> bool { true }
        40 |         }
        42 |         fn new_mceph_dim_lock(val: Vec<MatrixDim>) -> (lock: RwLock<Vec<MatrixDim>, McEphDimWf>) {
        43 |             RwLock::new(val, Ghost(McEphDimWf))
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtEph.rs:48: error: dummy_rwlock_predicate - RwLockPredicate inv returning true is grossly underspecified.
        42 |         fn new_mceph_dim_lock(val: Vec<MatrixDim>) -> (lock: RwLock<Vec<MatrixDim>, McEphDimWf>) {
            ...
        46 |         pub struct McEphMemoWf;
        47 |         impl RwLockPredicate<HashMap<(usize, usize), usize>> for McEphMemoWf {
        49 |         }
        50 |         #[verifier::external_body]
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtEph.rs:50: warning: verus_rwlock_external_body - Verus RwLock new requires an external body at this point.
        48 |             open spec fn inv(self, v: HashMap<(usize, usize), usize>) -> bool { true }
        49 |         }
        51 |         fn new_mceph_memo_lock(val: HashMap<(usize, usize), usize>) -> (lock: RwLock<HashMap<(usize, usize), usize>, McEphMemoWf>) {
        52 |             RwLock::new(val, Ghost(McEphMemoWf))
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtEph.rs:58: error: struct_outside_verus - struct MatrixChainMtEphS — should be inside verus!
        58 |     pub struct MatrixChainMtEphS {
        59 |         pub dimensions: Arc<RwLock<Vec<MatrixDim>, McEphDimWf>>,
        60 |         pub memo: Arc<RwLock<HashMap<(usize, usize), usize>, McEphMemoWf>>,
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtEph.rs:58: error: clone_derived_outside - struct MatrixChainMtEphS — Clone should be implemented inside verus!, not derived outside
        58 |     pub struct MatrixChainMtEphS {
        59 |         pub dimensions: Arc<RwLock<Vec<MatrixDim>, McEphDimWf>>,
        60 |         pub memo: Arc<RwLock<HashMap<(usize, usize), usize>, McEphMemoWf>>,
   Errors: 6 total (1 struct/enum outside verus!, 1 Clone derived outside, 2 Verus RwLock external_body, 2 dummy RwLockPredicate)
❌ MatrixChainMtPer.rs
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtPer.rs:41: error: dummy_rwlock_predicate - RwLockPredicate inv returning true is grossly underspecified.
        34 |         open spec fn view(&self) -> (nat, nat) {
            ...
        39 |         pub struct McPerMemoWf;
        40 |         impl RwLockPredicate<HashMap<(usize, usize), usize>> for McPerMemoWf {
        42 |         }
        43 |         #[verifier::external_body]
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtPer.rs:43: warning: verus_rwlock_external_body - Verus RwLock new requires an external body at this point.
        41 |             open spec fn inv(self, v: HashMap<(usize, usize), usize>) -> bool { true }
        42 |         }
        44 |         fn new_mcper_memo_lock(val: HashMap<(usize, usize), usize>) -> (lock: RwLock<HashMap<(usize, usize), usize>, McPerMemoWf>) {
        45 |             RwLock::new(val, Ghost(McPerMemoWf))
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtPer.rs:51: error: struct_outside_verus - struct MatrixChainMtPerS — should be inside verus!
        51 |     pub struct MatrixChainMtPerS {
        52 |         pub dimensions: Arc<Vec<MatrixDim>>,
        53 |         pub memo: Arc<RwLock<HashMap<(usize, usize), usize>, McPerMemoWf>>,
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainMtPer.rs:51: error: clone_derived_outside - struct MatrixChainMtPerS — Clone should be implemented inside verus!, not derived outside
        51 |     pub struct MatrixChainMtPerS {
        52 |         pub dimensions: Arc<Vec<MatrixDim>>,
        53 |         pub memo: Arc<RwLock<HashMap<(usize, usize), usize>, McPerMemoWf>>,
   Errors: 4 total (1 struct/enum outside verus!, 1 Clone derived outside, 1 Verus RwLock external_body, 1 dummy RwLockPredicate)
❌ MatrixChainStEph.rs
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainStEph.rs:48: external_body - #[verifier::external_body]
        49 |         fn clone(&self) -> (s: Self)
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainStEph.rs:60: external_body - #[verifier::external_body]
        61 |         fn eq(&self, other: &Self) -> (r: bool)
   Holes: 2 total
      2 × external_body
❌ MatrixChainStPer.rs
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainStPer.rs:50: external_body - #[verifier::external_body]
        51 |         fn clone(&self) -> (s: Self)
/home/milnes/projects/APAS-VERUS/src/Chap50/MatrixChainStPer.rs:62: external_body - #[verifier::external_body]
        63 |         fn eq(&self, other: &Self) -> (r: bool)
   Holes: 2 total
      2 × external_body
❌ OptBinSearchTreeMtEph.rs
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtEph.rs:38: external_type_specification - #[verifier::external_type_specification]
        39 |         pub struct ExKeyProb<T: MtVal>(KeyProb<T>);
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtEph.rs:43: error: dummy_rwlock_predicate - RwLockPredicate inv returning true is grossly underspecified.
        41 |         pub struct ObstEphKeysWf;
        42 |         impl<T: MtVal> RwLockPredicate<Vec<KeyProb<T>>> for ObstEphKeysWf {
        44 |         }
        45 |         #[verifier::external_body]
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtEph.rs:45: warning: verus_rwlock_external_body - Verus RwLock new requires an external body at this point.
        43 |             open spec fn inv(self, v: Vec<KeyProb<T>>) -> bool { true }
        44 |         }
        46 |         fn new_obst_eph_keys_lock<T: MtVal>(val: Vec<KeyProb<T>>) -> (lock: RwLock<Vec<KeyProb<T>>, ObstEphKeysWf>) {
        47 |             RwLock::new(val, Ghost(ObstEphKeysWf))
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtEph.rs:52: error: dummy_rwlock_predicate - RwLockPredicate inv returning true is grossly underspecified.
        46 |         fn new_obst_eph_keys_lock<T: MtVal>(val: Vec<KeyProb<T>>) -> (lock: RwLock<Vec<KeyProb<T>>, ObstEphKeysWf>) {
            ...
        50 |         pub struct ObstEphMemoWf;
        51 |         impl RwLockPredicate<HashMap<(usize, usize), Probability>> for ObstEphMemoWf {
        53 |         }
        54 |         #[verifier::external_body]
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtEph.rs:54: warning: verus_rwlock_external_body - Verus RwLock new requires an external body at this point.
        52 |             open spec fn inv(self, v: HashMap<(usize, usize), Probability>) -> bool { true }
        53 |         }
        55 |         fn new_obst_eph_memo_lock(val: HashMap<(usize, usize), Probability>) -> (lock: RwLock<HashMap<(usize, usize), Probability>, ObstEphMemoWf>) {
        56 |             RwLock::new(val, Ghost(ObstEphMemoWf))
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtEph.rs:24: error: struct_outside_verus - struct KeyProb — should be inside verus!
        24 |     pub struct KeyProb<T: MtVal> {
        25 |         pub key: T,
        26 |         pub prob: Probability,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtEph.rs:24: error: clone_derived_outside - struct KeyProb — Clone should be implemented inside verus!, not derived outside
        24 |     pub struct KeyProb<T: MtVal> {
        25 |         pub key: T,
        26 |         pub prob: Probability,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtEph.rs:31: error: struct_outside_verus - struct OBSTMtEphS — should be inside verus!
        31 |     pub struct OBSTMtEphS<T: MtVal> {
        32 |         pub keys: Arc<RwLock<Vec<KeyProb<T>>, ObstEphKeysWf>>,
        33 |         pub memo: Arc<RwLock<HashMap<(usize, usize), Probability>, ObstEphMemoWf>>,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtEph.rs:31: error: clone_derived_outside - struct OBSTMtEphS — Clone should be implemented inside verus!, not derived outside
        31 |     pub struct OBSTMtEphS<T: MtVal> {
        32 |         pub keys: Arc<RwLock<Vec<KeyProb<T>>, ObstEphKeysWf>>,
        33 |         pub memo: Arc<RwLock<HashMap<(usize, usize), Probability>, ObstEphMemoWf>>,
   Holes: 1 total
      1 × external_type_specification
   Errors: 8 total (2 struct/enum outside verus!, 2 Clone derived outside, 2 Verus RwLock external_body, 2 dummy RwLockPredicate)
❌ OptBinSearchTreeMtPer.rs
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtPer.rs:41: error: dummy_rwlock_predicate - RwLockPredicate inv returning true is grossly underspecified.
        39 |         pub struct ObstPerMemoWf;
        40 |         impl RwLockPredicate<HashMap<(usize, usize), Probability>> for ObstPerMemoWf {
        42 |         }
        43 |         #[verifier::external_body]
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtPer.rs:43: warning: verus_rwlock_external_body - Verus RwLock new requires an external body at this point.
        41 |             open spec fn inv(self, v: HashMap<(usize, usize), Probability>) -> bool { true }
        42 |         }
        44 |         fn new_obst_per_memo_lock(val: HashMap<(usize, usize), Probability>) -> (lock: RwLock<HashMap<(usize, usize), Probability>, ObstPerMemoWf>) {
        45 |             RwLock::new(val, Ghost(ObstPerMemoWf))
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtPer.rs:26: error: struct_outside_verus - struct KeyProb — should be inside verus!
        26 |     pub struct KeyProb<T: MtVal> {
        27 |         pub key: T,
        28 |         pub prob: Probability,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtPer.rs:26: error: clone_derived_outside - struct KeyProb — Clone should be implemented inside verus!, not derived outside
        26 |     pub struct KeyProb<T: MtVal> {
        27 |         pub key: T,
        28 |         pub prob: Probability,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtPer.rs:33: error: struct_outside_verus - struct OBSTMtPerS — should be inside verus!
        33 |     pub struct OBSTMtPerS<T: MtVal> {
        34 |         pub keys: Arc<Vec<KeyProb<T>>>,
        35 |         pub memo: Arc<RwLock<HashMap<(usize, usize), Probability>, ObstPerMemoWf>>,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeMtPer.rs:33: error: clone_derived_outside - struct OBSTMtPerS — Clone should be implemented inside verus!, not derived outside
        33 |     pub struct OBSTMtPerS<T: MtVal> {
        34 |         pub keys: Arc<Vec<KeyProb<T>>>,
        35 |         pub memo: Arc<RwLock<HashMap<(usize, usize), Probability>, ObstPerMemoWf>>,
   Errors: 6 total (2 struct/enum outside verus!, 2 Clone derived outside, 1 Verus RwLock external_body, 1 dummy RwLockPredicate)
❌ OptBinSearchTreeStEph.rs
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStEph.rs:40: external_type_specification - #[verifier::external_type_specification]
        41 |     pub struct ExKeyProb<T: StT>(KeyProb<T>);
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStEph.rs:43: external_type_specification - #[verifier::external_type_specification]
        44 |     pub struct ExOBSTStEphS<T: StT>(OBSTStEphS<T>);
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStEph.rs:25: error: struct_outside_verus - struct KeyProb — should be inside verus!
        25 |     pub struct KeyProb<T: StT> {
        26 |         pub key: T,
        27 |         pub prob: Probability,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStEph.rs:25: error: clone_derived_outside - struct KeyProb — Clone should be implemented inside verus!, not derived outside
        25 |     pub struct KeyProb<T: StT> {
        26 |         pub key: T,
        27 |         pub prob: Probability,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStEph.rs:33: error: struct_outside_verus - struct OBSTStEphS — should be inside verus!
        33 |     pub struct OBSTStEphS<T: StT> {
        34 |         pub keys: Vec<KeyProb<T>>,
        35 |         pub memo: HashMap<(usize, usize), Probability>,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStEph.rs:33: error: clone_derived_outside - struct OBSTStEphS — Clone should be implemented inside verus!, not derived outside
        33 |     pub struct OBSTStEphS<T: StT> {
        34 |         pub keys: Vec<KeyProb<T>>,
        35 |         pub memo: HashMap<(usize, usize), Probability>,
   Holes: 2 total
      2 × external_type_specification
   Errors: 4 total (2 struct/enum outside verus!, 2 Clone derived outside)
❌ OptBinSearchTreeStPer.rs
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStPer.rs:40: external_type_specification - #[verifier::external_type_specification]
        41 |     pub struct ExKeyProb<T: StT>(KeyProb<T>);
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStPer.rs:43: external_type_specification - #[verifier::external_type_specification]
        44 |     pub struct ExOBSTStPerS<T: StT>(OBSTStPerS<T>);
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStPer.rs:25: error: struct_outside_verus - struct KeyProb — should be inside verus!
        25 |     pub struct KeyProb<T: StT> {
        26 |         pub key: T,
        27 |         pub prob: Probability,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStPer.rs:25: error: clone_derived_outside - struct KeyProb — Clone should be implemented inside verus!, not derived outside
        25 |     pub struct KeyProb<T: StT> {
        26 |         pub key: T,
        27 |         pub prob: Probability,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStPer.rs:33: error: struct_outside_verus - struct OBSTStPerS — should be inside verus!
        33 |     pub struct OBSTStPerS<T: StT> {
        34 |         pub keys: Vec<KeyProb<T>>,
        35 |         pub memo: HashMap<(usize, usize), Probability>,
/home/milnes/projects/APAS-VERUS/src/Chap50/OptBinSearchTreeStPer.rs:33: error: clone_derived_outside - struct OBSTStPerS — Clone should be implemented inside verus!, not derived outside
        33 |     pub struct OBSTStPerS<T: StT> {
        34 |         pub keys: Vec<KeyProb<T>>,
        35 |         pub memo: HashMap<(usize, usize), Probability>,
   Holes: 2 total
      2 × external_type_specification
   Errors: 4 total (2 struct/enum outside verus!, 2 Clone derived outside)
❌ Probability.rs
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:46: external_body - #[verifier::external_body]
        47 |         fn new(value: f64) -> Self {
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:52: external_body - #[verifier::external_body]
        53 |         fn value(&self) -> f64 { self.0 }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:55: external_body - #[verifier::external_body]
        56 |         fn infinity() -> Self { Probability(f64::INFINITY) }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:58: external_body - #[verifier::external_body]
        59 |         fn zero() -> Self { Probability(0.0) }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:64: external_body - #[verifier::external_body]
        65 |         fn default() -> Self { <Probability as ProbabilityTrait>::zero() }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:69: external_body - #[verifier::external_body]
        70 |         /// - APAS: Work Θ(1), Span Θ(1)
        71 |         /// - Claude-Opus-4.6: Work Θ(1), Span Θ(1) — bit-level f64 comparison
        72 |         fn eq(&self, other: &Self) -> bool {
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:80: external_body - #[verifier::external_body]
        81 |         fn partial_cmp(&self, other: &Self) -> Option<Ordering> { Some(self.cmp(other)) }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:85: external_body - #[verifier::external_body]
        86 |         /// - APAS: Work Θ(1), Span Θ(1)
        87 |         /// - Claude-Opus-4.6: Work Θ(1), Span Θ(1) — NaN-aware f64 comparison
        88 |         fn cmp(&self, other: &Self) -> Ordering {
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:107: external_body - #[verifier::external_body]
       108 |         /// - APAS: Work Θ(1), Span Θ(1)
       109 |         /// - Claude-Opus-4.6: Work Θ(1), Span Θ(1) — hash f64 bits
       110 |         fn hash<H: Hasher>(&self, state: &mut H) { self.0.to_bits().hash(state); }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:114: external_body - #[verifier::external_body]
       115 |         /// - APAS: Work Θ(1), Span Θ(1)
       116 |         /// - Claude-Opus-4.6: Work Θ(1), Span Θ(1) — f64 wrapping
       117 |         fn from(value: f64) -> Self { Probability(value) }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:121: external_body - #[verifier::external_body]
       122 |         /// - APAS: Work Θ(1), Span Θ(1)
       123 |         /// - Claude-Opus-4.6: Work Θ(1), Span Θ(1) — f64 unwrapping
       124 |         fn from(prob: Probability) -> Self { prob.0 }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:130: external_body - #[verifier::external_body]
       131 |         fn add(self, other: Self) -> Self { Probability(self.0 + other.0) }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:137: external_body - #[verifier::external_body]
       138 |         fn sub(self, other: Self) -> Self { Probability(self.0 - other.0) }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:144: external_body - #[verifier::external_body]
       145 |         fn mul(self, other: Self) -> Self { Probability(self.0 * other.0) }
/home/milnes/projects/APAS-VERUS/src/Chap50/Probability.rs:151: external_body - #[verifier::external_body]
       152 |         fn div(self, other: Self) -> Self { Probability(self.0 / other.0) }
   Holes: 15 total
      15 × external_body

═══════════════════════════════════════════════════════════════
SUMMARY
═══════════════════════════════════════════════════════════════

Modules:
   3 clean (no holes)
   6 holed (contains holes)
   9 total

Proof Functions:
   0 clean
   0 holed
   0 total

Holes Found: 24 total
   19 × external_body
   5 × external_type_specification

Errors: 32 (bare impl(s), struct/enum outside verus!)
